# 中介者模式

## 引例

- 进销存系统：采购‘、销售、库存，这三个模块都有自己的行为，并且与其他模块之间的行为产生关联

## 角色

- 抽象中介者 Mediator
- 具体中介者角色 Concrete Mediator
- 同事角色 Colleague（需要在构造方法中注入中介者）
  - 同事本身的行为，比如改变对象本身的状态，处理自己的行为等，这种行为叫做自发行为（Self-Method），与其他的同事类或中介
    者没有任何的依赖
  - 必须依赖中介者才能完成的行为，叫做依赖方法（Dep-Method）

- 同事类要使用构造函数注入中介者，而中介者使用getter/setter方式注入同事类，这是因为同事类必须有中介者，而中介者却可以只有部分同事类

## 优缺点

- 中介者模式的优点就是减少类间的依赖，把原有的一对多的依赖变成了一对一的依赖，同事类只依赖中介者，减少了依赖，当然同时也降低了类间的耦合
- 中介者模式的缺点就是中介者会膨胀得很大，而且逻辑复杂，原本N个对象直接的相互依赖关系转换为中介者和同事类的依赖关系，同事类越多，中介者的逻辑就越复杂

## 应用

- MVC模式
- 媒体网关

# 门面模式

> 也称外观模式，门面模式（Facade Pattern）也叫做外观模式，是一种比较常用的封装模式

## 引例

- 邮局~写信

## 角色

- 要求一个子系统的外部与其内部的通信必须通过一个统一的对象进行。门面模式提供一个高层次的接口，使得子系统更易于使用

- 门面模式注重“统一的对象”，也就是提供一个访问子系统的接口，除了这个接口不允许有任何访问子系统的行为发生

- 门面角色 Facade 
- 子系统角色 Subsystem 

## 优缺点

- 门面模式最大的缺点就是不符合开闭原则

## 注意事项

