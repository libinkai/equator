@指针函数：使用指针变量作为函数的返回值的函数。int *p();

#include<stdio.h>
char *getWord(char c)//or char* getWord(char c)
{
	switch(c)
	{
		case 'A': return "APPLE";
		case 'B': return "BANANA";
		case 'C': return "CAT";
		default: return "NULL";
	}
}
int main()
{
	char ch;
	printf("input:");
	scanf("%c",&ch);
	printf("%s\n",getWord(ch));
	return 0;
}

#####不能返回局部变量的指针！
#include<stdio.h>
char *getWord(char c)
{
	char strOne[]= "APPLE";
	switch(c)
	{
		case 'A': return strOne;
		case 'B': return "BANANA";
		case 'C': return "CAT";
		default: return "NULL";
	}
}
int main()
{
	char ch;
	printf("input:");
	scanf("%c",&ch);
	printf("%s\n",getWord(ch));//运行到这里时局部变量已经销毁！而字符串保存在内存中的静态存储区，因此可以返回它的地址
	return 0;
}
warning: function returns address of local variable


@函数指针：指向函数的指针变量。int (*p)();
#include<stdio.h>
int square(int num)
{
    return num*num;
}
int main()
{
	int num;
	int (*p)(int num);
	printf("input:");
	scanf("%d",&num);
	p=square;//或者&square
	printf("%d*%d=%d",num,num,(*p)(num));//或者p(num)
	return 0;
}

#####函数指针作为参数
#include<stdio.h>

int add(int a,int b)
{
    return a+b;
}
int sub(int a,int b)
{
    return a-b;
}
int cal(int (*p)(int a,int b),int a,int b)
{
    return (*p)(a,b);
}
int main()
{
	printf("3+5=%d\n",cal(add,3,5));
	printf("5-3=%d\n",cal(sub,5,3));
	return 0;
}
#####函数指针作为返回值
#include<stdio.h>

int add(int a,int b)
{
    return a+b;
}
int sub(int a,int b)
{
    return a-b;
}
int cal(int (*p)(int a,int b),int a,int b)
{
    return (*p)(a,b);
}
int (*select(char op))
{
    switch(op)
    {
        case '+': return add;
        case '-': return sub;
    }
}
int main()
{
	int a,b;
	char op;
	int (*fp)(int a,int b);
	printf("input:");
	scanf("%d%c%d",&a,&op,&b);
	fp = select(op);
	printf("%d%c%d=%d\n",a,op,b,cal(fp,a,b));
	return 0;
}
